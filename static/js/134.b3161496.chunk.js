"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[134],{4007:function(e,n,t){t.d(n,{Z:function(){return u}});var r,a=t(168),o=t(6444).ZP.button(r||(r=(0,a.Z)(["\n  display: block;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-top: 20px;\n  margin-left: auto;\n  margin-right: auto;\n\n  &:hover {\n    color: var(--primary-color);\n    background-color: var(--secondary-color);\n  }\n"]))),c=t(184);var u=function(e){var n=e.text,t=e.onclickHandler;return e.display,(0,c.jsx)(o,{type:"button",onClick:t,children:n})}},7234:function(e,n,t){t.d(n,{Z:function(){return u}});var r,a=t(168),o=t(6444).ZP.h2(r||(r=(0,a.Z)(["\n  margin-bottom: 20px;\n"]))),c=t(184),u=function(e){var n=e.text;return(0,c.jsx)(o,{children:n})}},9677:function(e,n,t){t.d(n,{Z:function(){return u}});var r,a=t(168),o=t(6444).ZP.section(r||(r=(0,a.Z)(["\n  padding-top: 20px;\n  padding-bottom: 20px;\n"]))),c=t(184),u=function(e){var n=e.children;return(0,c.jsx)(o,{children:n})}},1134:function(e,n,t){t.r(n);var r=t(2982),a=t(885),o=t(6731),c=t(2791),u=t(3742),i=t(1207),s=t(9677),p=t(3623),l=t(7234),d=t(4007),f=t(184),v=(0,c.lazy)((function(){return t.e(69).then(t.bind(t,3069))}));n.default=function(){var e=(0,c.useState)("idle"),n=(0,a.Z)(e,2),t=n[0],h=n[1],m=(0,c.useState)([]),Z=(0,a.Z)(m,2),g=Z[0],x=Z[1],y=(0,o.lr)(),b=(0,a.Z)(y,2),k=b[0],w=b[1],j=(0,c.useState)(1),_=(0,a.Z)(j,2),S=_[0],L=_[1],q=(0,c.useState)(null),C=(0,a.Z)(q,2),H=C[0],P=C[1];return(0,c.useEffect)((function(){h("idle");var e=k.get("moviename");null!==e&&""!==e&&(u.Loading.circle(),i.mv(e,S).then((function(e){var n=e.results,t=e.total_pages;P(t),0===n.length?h("rejected"):h("pending"),x((function(e){var t=[],a=e.map((function(e){return e.id}));return n.map((function(e){return a.includes(e.id)||t.push(e),h("approved"),t})),[].concat((0,r.Z)(e),t)}))})).catch((function(e){return console.log(e)})).finally(u.Loading.remove()))}),[k,S]),(0,f.jsx)(s.Z,{children:(0,f.jsxs)(p.Z,{height:"400px",children:[(0,f.jsx)(l.Z,{text:function(e){var n="";switch(e){case"idle":n="Looking for something special?";break;case"rejected":n="Nothing matches your search!";break;case"approved":n="Found something!"}return n}(t)}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x([]);var n=e.target,t=n.elements.query.value;""!==t.trim()&&(w({moviename:t}),n.reset())},children:[(0,f.jsx)("input",{type:"text",name:"query",placeholder:"Write something...",required:!0,autoComplete:"off"}),(0,f.jsx)("button",{style:{borderRadius:"5px",marginLeft:"5px",cursor:"pointer","&:hover":{color:"red"}},children:"Search"})]}),g&&(0,f.jsxs)(c.Suspense,{children:[(0,f.jsx)(v,{movies:g}),"approved"===t&&S!==H&&(0,f.jsx)(d.Z,{text:"Load more",onclickHandler:function(){L(S+1)}})]})]})})}},1207:function(e,n,t){t.d(n,{Hx:function(){return l},Y5:function(){return s},mv:function(){return h},uV:function(){return f},wr:function(){return u}});var r=t(4165),a=t(5861),o=t(2388),c="4c2c309e2c0263a8769257d39e3c269a";function u(){return i.apply(this,arguments)}function i(){return i=(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,(0,o.Z)("trending/movie/day",{params:{api_key:c,page:n}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),i.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("movie/".concat(n),{params:{api_key:c}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:"1",e.prev=1,e.next=4,(0,o.Z)("movie/".concat(n,"/reviews"),{params:{api_key:c,page:t}});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),d.apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("movie/".concat(n,"/credits"),{params:{api_key:c}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e,n){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)("search/movie",{params:{api_key:c,query:n,page:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}o.Z.defaults.baseURL="https://api.themoviedb.org/3/"}}]);
//# sourceMappingURL=134.b3161496.chunk.js.map